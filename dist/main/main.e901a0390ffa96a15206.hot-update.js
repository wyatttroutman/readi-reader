exports.id = "main";
exports.modules = {

/***/ "./public/express/server.js":
/*!**********************************!*\
  !*** ./public/express/server.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! body-parser */ \"body-parser\");\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(body_parser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var epub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! epub */ \"epub\");\n/* harmony import */ var epub__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(epub__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _database_database__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./database/database */ \"./public/express/database/database.js\");\n/* harmony import */ var _database_queries_book__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./database/queries/book */ \"./public/express/database/queries/book.js\");\n\n\n\n\n\n\nconst server = express__WEBPACK_IMPORTED_MODULE_0___default()();\nserver.use(Object(body_parser__WEBPACK_IMPORTED_MODULE_2__[\"urlencoded\"])({\n  extended: false\n}));\nserver.use(Object(body_parser__WEBPACK_IMPORTED_MODULE_2__[\"json\"])());\nconst port = 5050;\n\nfunction createBookData(title, author, description, language, subject, path, publishDate) {\n  return [title, author, description, language, subject, path, publishDate];\n}\n\nserver.post(\"/book\", (req, res) => {\n  const {\n    title,\n    description,\n    language,\n    subject,\n    author,\n    publishDate,\n    path\n  } = req.body;\n  const book = createBookData(title, author, description, language, subject, path, publishDate); // Save book\n\n  _database_database__WEBPACK_IMPORTED_MODULE_4__[\"default\"].run(_database_queries_book__WEBPACK_IMPORTED_MODULE_5__[\"insertBookQuery\"], book, function (err, result) {\n    if (err) {\n      res.status(400).json({\n        error: err.message\n      });\n      return;\n    }\n\n    res.json({\n      message: \"success\",\n      data: data,\n      id: this.lastID\n    });\n  });\n  res.json(book);\n});\nserver.post(\"/book/path/:path\", (req, res) => {\n  // Decode path\n  const resolvedPath = Object(path__WEBPACK_IMPORTED_MODULE_1__[\"resolve\"])(decodeURIComponent(req.params.path)); // Get metadataimport EPub from 'epub'\n\n  const epub = new epub__WEBPACK_IMPORTED_MODULE_3___default.a(resolvedPath);\n  epub.on(\"end\", function () {\n    // epub is initialized now\n    const metadata = epub.metadata; // Creaate book record\n\n    const {\n      title,\n      creator,\n      description,\n      language,\n      subject\n    } = metadata;\n    const book = createBookData(title, creator, description, language, subject, resolvedPath, \"\"); // Save book\n\n    _database_database__WEBPACK_IMPORTED_MODULE_4__[\"default\"].run(_database_queries_book__WEBPACK_IMPORTED_MODULE_5__[\"insertBookQuery\"], book, function (err, result) {\n      if (err) {\n        res.status(400).json({\n          error: err.message\n        });\n        return;\n      }\n\n      res.json({\n        message: \"success\",\n        data: book,\n        id: this.lastID\n      });\n    });\n  });\n  epub.parse();\n});\nserver.delete(\"/book/:id\", (req, res, next) => {\n  var params = [req.params.id];\n  _database_database__WEBPACK_IMPORTED_MODULE_4__[\"default\"].run(_database_queries_book__WEBPACK_IMPORTED_MODULE_5__[\"deleteBookByIdQuery\"], params, (err, book) => {\n    if (err) {\n      res.status(400).json({\n        error: err.message\n      });\n      return;\n    }\n\n    res.json(book);\n  });\n});\nserver.get(\"/book\", (req, res) => {\n  var params = [];\n  _database_database__WEBPACK_IMPORTED_MODULE_4__[\"default\"].all(_database_queries_book__WEBPACK_IMPORTED_MODULE_5__[\"getBooksQuery\"], params, (err, books) => {\n    if (err) {\n      res.status(400).json({\n        error: err.message\n      });\n      return;\n    }\n\n    res.json(books);\n  });\n});\nserver.get(\"/book/:id\", (req, res, next) => {\n  var params = [req.params.id];\n  _database_database__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(_database_queries_book__WEBPACK_IMPORTED_MODULE_5__[\"getBookByIdQuery\"], params, (err, book) => {\n    if (err) {\n      res.status(400).json({\n        error: err.message\n      });\n      return;\n    }\n\n    res.json(book);\n  });\n});\nserver.get(\"/book/download/:path\", (req, res) => {\n  const resolvedPath = Object(path__WEBPACK_IMPORTED_MODULE_1__[\"resolve\"])(decodeURIComponent(req.params.path));\n  res.download(resolvedPath);\n});\nserver.listen(port, () => {\n  console.log(`App listening at http://localhost:${port}`);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (server);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wdWJsaWMvZXhwcmVzcy9zZXJ2ZXIuanM/ODcwMiJdLCJuYW1lcyI6WyJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsInBvcnQiLCJjcmVhdGVCb29rRGF0YSIsInRpdGxlIiwiYXV0aG9yIiwiZGVzY3JpcHRpb24iLCJsYW5ndWFnZSIsInN1YmplY3QiLCJwYXRoIiwicHVibGlzaERhdGUiLCJwb3N0IiwicmVxIiwicmVzIiwiYm9keSIsImJvb2siLCJkYiIsInJ1biIsImluc2VydEJvb2tRdWVyeSIsImVyciIsInJlc3VsdCIsInN0YXR1cyIsImVycm9yIiwibWVzc2FnZSIsImRhdGEiLCJpZCIsImxhc3RJRCIsInJlc29sdmVkUGF0aCIsInJlc29sdmUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJhbXMiLCJlcHViIiwiRVB1YiIsIm9uIiwibWV0YWRhdGEiLCJjcmVhdG9yIiwicGFyc2UiLCJkZWxldGUiLCJuZXh0IiwiZGVsZXRlQm9va0J5SWRRdWVyeSIsImdldCIsImFsbCIsImdldEJvb2tzUXVlcnkiLCJib29rcyIsImdldEJvb2tCeUlkUXVlcnkiLCJkb3dubG9hZCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQSxNQUFNQSxNQUFNLEdBQUdDLDhDQUFPLEVBQXRCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXQyw4REFBVSxDQUFDO0FBQUVDLFVBQVEsRUFBRTtBQUFaLENBQUQsQ0FBckI7QUFDQUosTUFBTSxDQUFDRSxHQUFQLENBQVdHLHdEQUFJLEVBQWY7QUFFQSxNQUFNQyxJQUFJLEdBQUcsSUFBYjs7QUFFQSxTQUFTQyxjQUFULENBQ0VDLEtBREYsRUFFRUMsTUFGRixFQUdFQyxXQUhGLEVBSUVDLFFBSkYsRUFLRUMsT0FMRixFQU1FQyxJQU5GLEVBT0VDLFdBUEYsRUFRRTtBQUNBLFNBQU8sQ0FBQ04sS0FBRCxFQUFRQyxNQUFSLEVBQWdCQyxXQUFoQixFQUE2QkMsUUFBN0IsRUFBdUNDLE9BQXZDLEVBQWdEQyxJQUFoRCxFQUFzREMsV0FBdEQsQ0FBUDtBQUNEOztBQUVEZCxNQUFNLENBQUNlLElBQVAsQ0FBWSxPQUFaLEVBQXFCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ2pDLFFBQU07QUFDSlQsU0FESTtBQUVKRSxlQUZJO0FBR0pDLFlBSEk7QUFJSkMsV0FKSTtBQUtKSCxVQUxJO0FBTUpLLGVBTkk7QUFPSkQ7QUFQSSxNQVFGRyxHQUFHLENBQUNFLElBUlI7QUFTQSxRQUFNQyxJQUFJLEdBQUdaLGNBQWMsQ0FDekJDLEtBRHlCLEVBRXpCQyxNQUZ5QixFQUd6QkMsV0FIeUIsRUFJekJDLFFBSnlCLEVBS3pCQyxPQUx5QixFQU16QkMsSUFOeUIsRUFPekJDLFdBUHlCLENBQTNCLENBVmlDLENBb0JqQzs7QUFDQU0sNERBQUUsQ0FBQ0MsR0FBSCxDQUFPQyxzRUFBUCxFQUF3QkgsSUFBeEIsRUFBOEIsVUFBVUksR0FBVixFQUFlQyxNQUFmLEVBQXVCO0FBQ25ELFFBQUlELEdBQUosRUFBUztBQUNQTixTQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCcEIsSUFBaEIsQ0FBcUI7QUFBRXFCLGFBQUssRUFBRUgsR0FBRyxDQUFDSTtBQUFiLE9BQXJCO0FBQ0E7QUFDRDs7QUFDRFYsT0FBRyxDQUFDWixJQUFKLENBQVM7QUFDUHNCLGFBQU8sRUFBRSxTQURGO0FBRVBDLFVBQUksRUFBRUEsSUFGQztBQUdQQyxRQUFFLEVBQUUsS0FBS0M7QUFIRixLQUFUO0FBS0QsR0FWRDtBQVlBYixLQUFHLENBQUNaLElBQUosQ0FBU2MsSUFBVDtBQUNELENBbENEO0FBb0NBbkIsTUFBTSxDQUFDZSxJQUFQLENBQVksa0JBQVosRUFBZ0MsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDNUM7QUFDQSxRQUFNYyxZQUFZLEdBQUdDLG9EQUFPLENBQUNDLGtCQUFrQixDQUFDakIsR0FBRyxDQUFDa0IsTUFBSixDQUFXckIsSUFBWixDQUFuQixDQUE1QixDQUY0QyxDQUk1Qzs7QUFDQSxRQUFNc0IsSUFBSSxHQUFHLElBQUlDLDJDQUFKLENBQVNMLFlBQVQsQ0FBYjtBQUVBSSxNQUFJLENBQUNFLEVBQUwsQ0FBUSxLQUFSLEVBQWUsWUFBWTtBQUN6QjtBQUNBLFVBQU1DLFFBQVEsR0FBR0gsSUFBSSxDQUFDRyxRQUF0QixDQUZ5QixDQUl6Qjs7QUFDQSxVQUFNO0FBQUU5QixXQUFGO0FBQVMrQixhQUFUO0FBQWtCN0IsaUJBQWxCO0FBQStCQyxjQUEvQjtBQUF5Q0M7QUFBekMsUUFBcUQwQixRQUEzRDtBQUNBLFVBQU1uQixJQUFJLEdBQUdaLGNBQWMsQ0FDekJDLEtBRHlCLEVBRXpCK0IsT0FGeUIsRUFHekI3QixXQUh5QixFQUl6QkMsUUFKeUIsRUFLekJDLE9BTHlCLEVBTXpCbUIsWUFOeUIsRUFPekIsRUFQeUIsQ0FBM0IsQ0FOeUIsQ0FnQnpCOztBQUNBWCw4REFBRSxDQUFDQyxHQUFILENBQU9DLHNFQUFQLEVBQXdCSCxJQUF4QixFQUE4QixVQUFVSSxHQUFWLEVBQWVDLE1BQWYsRUFBdUI7QUFDbkQsVUFBSUQsR0FBSixFQUFTO0FBQ1BOLFdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JwQixJQUFoQixDQUFxQjtBQUFFcUIsZUFBSyxFQUFFSCxHQUFHLENBQUNJO0FBQWIsU0FBckI7QUFDQTtBQUNEOztBQUNEVixTQUFHLENBQUNaLElBQUosQ0FBUztBQUNQc0IsZUFBTyxFQUFFLFNBREY7QUFFUEMsWUFBSSxFQUFFVCxJQUZDO0FBR1BVLFVBQUUsRUFBRSxLQUFLQztBQUhGLE9BQVQ7QUFLRCxLQVZEO0FBV0QsR0E1QkQ7QUE4QkFLLE1BQUksQ0FBQ0ssS0FBTDtBQUNELENBdENEO0FBd0NBeEMsTUFBTSxDQUFDeUMsTUFBUCxDQUFjLFdBQWQsRUFBMkIsQ0FBQ3pCLEdBQUQsRUFBTUMsR0FBTixFQUFXeUIsSUFBWCxLQUFvQjtBQUM3QyxNQUFJUixNQUFNLEdBQUcsQ0FBQ2xCLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV0wsRUFBWixDQUFiO0FBQ0FULDREQUFFLENBQUNDLEdBQUgsQ0FBT3NCLDBFQUFQLEVBQTRCVCxNQUE1QixFQUFvQyxDQUFDWCxHQUFELEVBQU1KLElBQU4sS0FBZTtBQUNqRCxRQUFJSSxHQUFKLEVBQVM7QUFDUE4sU0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQnBCLElBQWhCLENBQXFCO0FBQUVxQixhQUFLLEVBQUVILEdBQUcsQ0FBQ0k7QUFBYixPQUFyQjtBQUNBO0FBQ0Q7O0FBQ0RWLE9BQUcsQ0FBQ1osSUFBSixDQUFTYyxJQUFUO0FBQ0QsR0FORDtBQU9ELENBVEQ7QUFXQW5CLE1BQU0sQ0FBQzRDLEdBQVAsQ0FBVyxPQUFYLEVBQW9CLENBQUM1QixHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNoQyxNQUFJaUIsTUFBTSxHQUFHLEVBQWI7QUFDQWQsNERBQUUsQ0FBQ3lCLEdBQUgsQ0FBT0Msb0VBQVAsRUFBc0JaLE1BQXRCLEVBQThCLENBQUNYLEdBQUQsRUFBTXdCLEtBQU4sS0FBZ0I7QUFDNUMsUUFBSXhCLEdBQUosRUFBUztBQUNQTixTQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCcEIsSUFBaEIsQ0FBcUI7QUFBRXFCLGFBQUssRUFBRUgsR0FBRyxDQUFDSTtBQUFiLE9BQXJCO0FBQ0E7QUFDRDs7QUFDRFYsT0FBRyxDQUFDWixJQUFKLENBQVMwQyxLQUFUO0FBQ0QsR0FORDtBQU9ELENBVEQ7QUFXQS9DLE1BQU0sQ0FBQzRDLEdBQVAsQ0FBVyxXQUFYLEVBQXdCLENBQUM1QixHQUFELEVBQU1DLEdBQU4sRUFBV3lCLElBQVgsS0FBb0I7QUFDMUMsTUFBSVIsTUFBTSxHQUFHLENBQUNsQixHQUFHLENBQUNrQixNQUFKLENBQVdMLEVBQVosQ0FBYjtBQUNBVCw0REFBRSxDQUFDd0IsR0FBSCxDQUFPSSx1RUFBUCxFQUF5QmQsTUFBekIsRUFBaUMsQ0FBQ1gsR0FBRCxFQUFNSixJQUFOLEtBQWU7QUFDOUMsUUFBSUksR0FBSixFQUFTO0FBQ1BOLFNBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JwQixJQUFoQixDQUFxQjtBQUFFcUIsYUFBSyxFQUFFSCxHQUFHLENBQUNJO0FBQWIsT0FBckI7QUFDQTtBQUNEOztBQUNEVixPQUFHLENBQUNaLElBQUosQ0FBU2MsSUFBVDtBQUNELEdBTkQ7QUFPRCxDQVREO0FBV0FuQixNQUFNLENBQUM0QyxHQUFQLENBQVcsc0JBQVgsRUFBbUMsQ0FBQzVCLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQy9DLFFBQU1jLFlBQVksR0FBR0Msb0RBQU8sQ0FBQ0Msa0JBQWtCLENBQUNqQixHQUFHLENBQUNrQixNQUFKLENBQVdyQixJQUFaLENBQW5CLENBQTVCO0FBQ0FJLEtBQUcsQ0FBQ2dDLFFBQUosQ0FBYWxCLFlBQWI7QUFDRCxDQUhEO0FBS0EvQixNQUFNLENBQUNrRCxNQUFQLENBQWM1QyxJQUFkLEVBQW9CLE1BQU07QUFDeEI2QyxTQUFPLENBQUNDLEdBQVIsQ0FBYSxxQ0FBb0M5QyxJQUFLLEVBQXREO0FBQ0QsQ0FGRDtBQUllTixxRUFBZiIsImZpbGUiOiIuL3B1YmxpYy9leHByZXNzL3NlcnZlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgeyB1cmxlbmNvZGVkLCBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCI7XHJcbmltcG9ydCBFUHViIGZyb20gXCJlcHViXCI7XHJcbmltcG9ydCBkYiBmcm9tIFwiLi9kYXRhYmFzZS9kYXRhYmFzZVwiO1xyXG5pbXBvcnQge1xyXG4gIGdldEJvb2tCeUlkUXVlcnksXHJcbiAgZ2V0Qm9va3NRdWVyeSxcclxuICBpbnNlcnRCb29rUXVlcnksXHJcbiAgZGVsZXRlQm9va0J5SWRRdWVyeSxcclxufSBmcm9tIFwiLi9kYXRhYmFzZS9xdWVyaWVzL2Jvb2tcIjtcclxuXHJcbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcclxuc2VydmVyLnVzZSh1cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcclxuc2VydmVyLnVzZShqc29uKCkpO1xyXG5cclxuY29uc3QgcG9ydCA9IDUwNTA7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCb29rRGF0YShcclxuICB0aXRsZSxcclxuICBhdXRob3IsXHJcbiAgZGVzY3JpcHRpb24sXHJcbiAgbGFuZ3VhZ2UsXHJcbiAgc3ViamVjdCxcclxuICBwYXRoLFxyXG4gIHB1Ymxpc2hEYXRlXHJcbikge1xyXG4gIHJldHVybiBbdGl0bGUsIGF1dGhvciwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzdWJqZWN0LCBwYXRoLCBwdWJsaXNoRGF0ZV07XHJcbn1cclxuXHJcbnNlcnZlci5wb3N0KFwiL2Jvb2tcIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgdGl0bGUsXHJcbiAgICBkZXNjcmlwdGlvbixcclxuICAgIGxhbmd1YWdlLFxyXG4gICAgc3ViamVjdCxcclxuICAgIGF1dGhvcixcclxuICAgIHB1Ymxpc2hEYXRlLFxyXG4gICAgcGF0aCxcclxuICB9ID0gcmVxLmJvZHk7XHJcbiAgY29uc3QgYm9vayA9IGNyZWF0ZUJvb2tEYXRhKFxyXG4gICAgdGl0bGUsXHJcbiAgICBhdXRob3IsXHJcbiAgICBkZXNjcmlwdGlvbixcclxuICAgIGxhbmd1YWdlLFxyXG4gICAgc3ViamVjdCxcclxuICAgIHBhdGgsXHJcbiAgICBwdWJsaXNoRGF0ZVxyXG4gICk7XHJcblxyXG4gIC8vIFNhdmUgYm9va1xyXG4gIGRiLnJ1bihpbnNlcnRCb29rUXVlcnksIGJvb2ssIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgaWQ6IHRoaXMubGFzdElELFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHJlcy5qc29uKGJvb2spO1xyXG59KTtcclxuXHJcbnNlcnZlci5wb3N0KFwiL2Jvb2svcGF0aC86cGF0aFwiLCAocmVxLCByZXMpID0+IHtcclxuICAvLyBEZWNvZGUgcGF0aFxyXG4gIGNvbnN0IHJlc29sdmVkUGF0aCA9IHJlc29sdmUoZGVjb2RlVVJJQ29tcG9uZW50KHJlcS5wYXJhbXMucGF0aCkpO1xyXG5cclxuICAvLyBHZXQgbWV0YWRhdGFpbXBvcnQgRVB1YiBmcm9tICdlcHViJ1xyXG4gIGNvbnN0IGVwdWIgPSBuZXcgRVB1YihyZXNvbHZlZFBhdGgpO1xyXG5cclxuICBlcHViLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGVwdWIgaXMgaW5pdGlhbGl6ZWQgbm93XHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IGVwdWIubWV0YWRhdGE7XHJcblxyXG4gICAgLy8gQ3JlYWF0ZSBib29rIHJlY29yZFxyXG4gICAgY29uc3QgeyB0aXRsZSwgY3JlYXRvciwgZGVzY3JpcHRpb24sIGxhbmd1YWdlLCBzdWJqZWN0IH0gPSBtZXRhZGF0YTtcclxuICAgIGNvbnN0IGJvb2sgPSBjcmVhdGVCb29rRGF0YShcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGNyZWF0b3IsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBsYW5ndWFnZSxcclxuICAgICAgc3ViamVjdCxcclxuICAgICAgcmVzb2x2ZWRQYXRoLFxyXG4gICAgICBcIlwiXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNhdmUgYm9va1xyXG4gICAgZGIucnVuKGluc2VydEJvb2tRdWVyeSwgYm9vaywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgIGRhdGE6IGJvb2ssXHJcbiAgICAgICAgaWQ6IHRoaXMubGFzdElELFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBlcHViLnBhcnNlKCk7XHJcbn0pO1xyXG5cclxuc2VydmVyLmRlbGV0ZShcIi9ib29rLzppZFwiLCAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB2YXIgcGFyYW1zID0gW3JlcS5wYXJhbXMuaWRdO1xyXG4gIGRiLnJ1bihkZWxldGVCb29rQnlJZFF1ZXJ5LCBwYXJhbXMsIChlcnIsIGJvb2spID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlcy5qc29uKGJvb2spO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbnNlcnZlci5nZXQoXCIvYm9va1wiLCAocmVxLCByZXMpID0+IHtcclxuICB2YXIgcGFyYW1zID0gW107XHJcbiAgZGIuYWxsKGdldEJvb2tzUXVlcnksIHBhcmFtcywgKGVyciwgYm9va3MpID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlcy5qc29uKGJvb2tzKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5zZXJ2ZXIuZ2V0KFwiL2Jvb2svOmlkXCIsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHZhciBwYXJhbXMgPSBbcmVxLnBhcmFtcy5pZF07XHJcbiAgZGIuZ2V0KGdldEJvb2tCeUlkUXVlcnksIHBhcmFtcywgKGVyciwgYm9vaykgPT4ge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVzLmpzb24oYm9vayk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuc2VydmVyLmdldChcIi9ib29rL2Rvd25sb2FkLzpwYXRoXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHJlc29sdmVkUGF0aCA9IHJlc29sdmUoZGVjb2RlVVJJQ29tcG9uZW50KHJlcS5wYXJhbXMucGF0aCkpO1xyXG4gIHJlcy5kb3dubG9hZChyZXNvbHZlZFBhdGgpO1xyXG59KTtcclxuXHJcbnNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGBBcHAgbGlzdGVuaW5nIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fWApO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlcnZlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/express/server.js\n");

/***/ })

};